# Movie API

## Overview

This repository contains a project developed for a cloud engineering/developer interview case, focusing on Cloud Analytics and MLOps. The project exposes an API using FastAPI, which allows users to interact with an IMDb SQLite database to retrieve information about directors and movies.

## Table of Contents

- [Overview](#overview)
- [Features](#features)
- [Installation](#installation)
- [Usage](#usage)
- [API Endpoints](#api-endpoints)
- [Dataset](#dataset)


## Features

- **FastAPI Framework:** Implements a web API using FastAPI.
- **SQLite Database:** Connects to an IMDb SQLite database.
- **Multiple Endpoints:** Provides various endpoints to retrieve information about directors and movies.
- **JSON Responses:** API responses are formatted in JSON.

## Installation

To install the required dependencies, use the provided `requirements.txt` file. It is recommended to use a virtual environment.

```bash
# Clone the repository
git clone https://github.com/your-username/movie-api.git
cd movie-api


# Create a virtual environment
python -m venv env
source env/bin/activate  # On Windows use `env\Scripts\activate`

# Install dependencies
pip install -r requirements.txt
```
# Usage
Define the path to the IMDb SQLite database file: Update the DATABASE_PATH variable in movie_api.py to the absolute path of your IMDb SQLite database file.

Run the FastAPI server:

```bash
uvicorn movie_api:app --reload
```
Access the API: Open your browser and navigate to http://127.0.0.1:8000. You can also explore the interactive API documentation at http://127.0.0.1:8000/docs.

## API Endpoints
List all directors:

GET /directors
Response: JSON object with a list of all directors.
List all films:

GET /films
Response: JSON object with a list of all films.
List top 5 directors by average vote:

GET /top_5_directors
Query Parameter: Limit (optional, default is 5)
Response: JSON object with the top directors and their average ratings.
List films filtered by director and/or title:

GET /list_of_films
Query Parameters: director (optional), title (optional), sort_by (optional, can be name or title)
Response: JSON object with a list of films filtered and/or sorted as specified.
Dataset
The project connects to an IMDb SQLite database. Ensure the database file is available and update the DATABASE_PATH in movie_api.py to point to the correct location.


## Dataset Description
This dataset is an SQLite database containing detailed information about movies and directors, derived from IMDb data. The database is designed to facilitate querying and analysis of movie-related data, including director information, movie titles, ratings, and other attributes.

# Database Schema
The database consists of the following tables:

1. movies
This table contains information about movies.

id: Unique identifier for the movie.
original_title: The original title of the movie.
budget: The budget of the movie.
popularity: Popularity score of the movie.
release_date: Release date of the movie.
revenue: Revenue generated by the movie.
runtime: Runtime of the movie in minutes.
vote_average: Average vote score for the movie.
vote_count: Total number of votes for the movie.
overview: Brief description of the movie.
tagline: Tagline of the movie.
uid: Unique identifier.
director_id: Identifier linking to the director of the movie.
2. directors
This table contains information about directors.

id: Unique identifier for the director.
name: Name of the director.
birth_date: Birth date of the director.
death_date: Death date of the director (if applicable).
birth_place: Birthplace of the director.
gender: Gender of the director.
3. movies_directors
This table is used to establish a many-to-many relationship between movies and directors.

movie_id: Identifier linking to the movie.
director_id: Identifier linking to the director.

Feel free to reach out if you have any questions or need further assistance!
